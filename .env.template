# .env file template for Ash
# Copy this file to .env and fill in your actual values

# =============================================================================
# GLOBAL CONFIGURATION
# =============================================================================
GLOBAL_CLAUDE_API_KEY=/run/secrets/claude_api_key
GLOBAL_SESSION_TOKEN=/run/secrets/session_token
GLOBAL_POSTGRES_PASSWORD=/run/secrets/postgres
GLOBAL_REDIS_PASSWORD=/run/secrets/redis
GLOBAL_HUGGINGFACE_TOKEN=/run/secrets/huggingface
GLOBAL_CLAUDE_MODEL=claude-sonnet-4-20250514
GLOBAL_PYTHONUNBUFFERED=1
GLOBAL_ENV=production
GLOBAL_LOG_LEVEL=INFO
GLOBAL_ENABLE_DEBUG_LOGGING=false
GLOBAL_REDIS_HOST=ash-redis
GLOBAL_REDIS_PORT=6379
GLOBAL_BOT_API_HOST=172.20.0.10
GLOBAL_BOT_API_PORT=8882
GLOBAL_BOT_API_URL=http://172.20.0.10:8882
GLOBAL_NLP_API_HOST=172.20.0.11
GLOBAL_NLP_API_PORT=8881
GLOBAL_NLP_API_URL=http://172.20.0.11:8881
GLOBAL_DASH_API_HOST=172.20.0.12
GLOBAL_DASH_API_PORT=8883
GLOBAL_DASH_API_URL=http://172.20.0.12:8883
GLOBAL_THRASH_SERVICE_HOST=172.20.0.13
GLOBAL_THRASH_SERVICE_PORT=8884
GLOBAL_THRASH_SERVICE_URL=http://172.20.0.13:8884
GLOBAL_THRASH_API_HOST=172.20.0.14
GLOBAL_THRASH_API_PORT=8885
GLOBAL_THRASH_API_URL=http://172.20.0.14:8885
GLOBAL_REQUEST_TIMEOUT=30
GLOBAL_ENABLE_LEARNING_SYSTEM=true
GLOBAL_ALLOWED_IPS=10.20.30.0/24,172.20.0.0/16,127.0.0.1,::1
GLOBAL_ENABLE_CORS=true
GLOBAL_POSTGRES_DB=ash
GLOBAL_POSTGRES_USER=ash

# =============================================================================
# ASH-BOT CONFIGURATION
# =============================================================================
BOT_DISCORD_TOKEN=/run/secrets/discord_token
BOT_GUILD_ID=your_discord_server_id_here
BOT_RESOURCES_CHANNEL_ID=your_resources_channel_id_here
BOT_CRISIS_RESPONSE_CHANNEL_ID=your_crisis_response_channel_id_here
BOT_ALLOWED_CHANNELS=channel_id_1,channel_id_2,channel_id_3
BOT_STAFF_PING_USER=staff_user_id_here
BOT_CRISIS_RESPONSE_ROLE_ID=crisis_team_role_id_here
BOT_RESOURCES_CHANNEL_NAME=resources
BOT_CRISIS_RESPONSE_ROLE_NAME=CrisisResponse
BOT_STAFF_PING_NAME=StaffUserName
BOT_LEARNING_CONFIDENCE_THRESHOLD=0.6
BOT_MAX_LEARNING_ADJUSTMENTS_PER_DAY=50
BOT_MAX_DAILY_CALLS=1000
BOT_RATE_LIMIT_PER_USER=10
BOT_CONVERSATION_REQUIRES_MENTION=true
BOT_CONVERSATION_TRIGGER_PHRASES=ash,hey ash,ash help,@ash
BOT_CONVERSATION_ALLOW_STARTERS=true
BOT_CONVERSATION_SETUP_INSTRUCTIONS=true
BOT_CRISIS_OVERRIDE_LEVELS=medium,high
BOT_CONVERSATION_LOG_ATTEMPTS=true
BOT_CONVERSATION_TIMEOUT=300
BOT_ENABLE_PERFORMANCE_TRACKING=true
BOT_TRACK_RESPONSE_TIMES=true
BOT_TRACK_MEMORY_USAGE=true
BOT_COLLECT_CRISIS_STATS=true
BOT_COLLECT_KEYWORD_STATS=true
BOT_COLLECT_LEARNING_STATS=true
BOT_STATS_RETENTION_DAYS=90
BOT_API_HOST=0.0.0.0
BOT_API_RATE_LIMIT_PER_MINUTE=60
BOT_API_RATE_LIMIT_PER_HOUR=1000
BOT_API_ENABLE_CORS=true
BOT_API_ALLOWED_ORIGINS=*
BOT_LOGS_RETENTION_DAYS=90

# =============================================================================
# ASH-NLP CONFIGURATION
# =============================================================================
NLP_LEARNING_PERSISTENCE_FILE=./ash-nlp/learning_data/adjustments.json
NLP_HUGGINGFACE_CACHE_DIR=./ash-nlp/models/cache
NLP_MODEL_CACHE_DIR=./ash-nlp/models/cache
NLP_LOG_FILE=nlp_service.log
NLP_DATA_DIR=./ash-nlp/data
NLP_MODELS_DIR=./ash-nlp/models/cache
NLP_LOGS_DIR=./ash-nlp/logs
NLP_LEARNING_DATA_DIR=./ash-nlp/learning_data
NLP_HEALTH_CHECK_INTERVAL=60
NLP_HEALTH_CHECK_TIMEOUT=30
NLP_HEALTH_CHECK_START_PERIOD=300
NLP_LEARNING_RATE=0.1
NLP_MAX_LEARNING_ADJUSTMENTS_PER_DAY=50
NLP_MIN_CONFIDENCE_ADJUSTMENT=0.05
NLP_MAX_CONFIDENCE_ADJUSTMENT=0.30
NLP_MAX_REQUESTS_PER_MINUTE=60
NLP_MAX_REQUESTS_PER_HOUR=1000
NLP_DEPRESSION_MODEL=rafalposwiata/deproberta-large-depression
NLP_SENTIMENT_MODEL=cardiffnlp/twitter-roberta-base-sentiment-latest
NLP_DEVICE=auto  # auto, cpu, cuda, or specific device like cuda:0
NLP_MODEL_PRECISION=float16  # float32, float16, or bfloat16
NLP_MAX_BATCH_SIZE=32
NLP_INFERENCE_THREADS=8
NLP_MAX_CONCURRENT_REQUESTS=12
NLP_REQUEST_TIMEOUT=30
NLP_UVICORN_WORKERS=1
NLP_RELOAD_ON_CHANGES=false
NLP_API_HOST=0.0.0.0
NLP_HIGH_CRISIS_THRESHOLD=0.55
NLP_MEDIUM_CRISIS_THRESHOLD=0.28
NLP_LOW_CRISIS_THRESHOLD=0.16

# =============================================================================
# ASH-DASH CONFIGURATION
# =============================================================================
DASH_ENABLE_SSL=false
DASH_SSL_CERT_PATH=/run/secrets/cert.pem
DASH_SSL_KEY_PATH=/run/secrets/key.pem
DASH_BOT_API_TIMEOUT=5000
DASH_NLP_API_TIMEOUT=10000
DASH_HEALTH_CHECK_INTERVAL=120000
DASH_SERVICE_CHECK_TIMEOUT=10000
DASH_CACHE_TTL=600
DASH_ENABLE_ANALYTICS=true
DASH_ANALYTICS_RETENTION_DAYS=90
DASH_ENABLE_SOCKET_IO=true
DASH_METRICS_UPDATE_INTERVAL=60000
DASH_CRISIS_ALERTS_UPDATE_INTERVAL=30000
DASH_CHART_DATA_POINTS=24
DASH_TREND_ANALYSIS_HOURS=24
DASH_MAX_CRISIS_HISTORY_DAYS=7
DASH_BOARD_TITLE="Ash Analytics Dashboard"
DASH_BOARD_SUBTITLE="The Alphabet Cartel Crisis Detection Analytics"
DASH_COMMUNITY_NAME="The Alphabet Cartel"
DASH_COMMUNITY_DISCORD="https://discord.gg/alphabetcartel"
DASH_DASHBOARD_THEME="dark"
DASH_LOG_FILE=ash-dash.log
DASH_LOG_DIR=./ash-dash/logs
DASH_ENABLE_ACCESS_LOGS=true
DASH_ENABLE_ERROR_LOGS=true
DASH_LOG_API_RESPONSE_TIMES=true
DASH_LOG_SLOW_QUERIES=true
DASH_SLOW_QUERY_THRESHOLD=1000
DASH_CORS_ORIGINS=*
DASH_RATE_LIMIT_WINDOW=900000
DASH_RATE_LIMIT_MAX=100
DASH_RATE_LIMIT_MESSAGE="Too many requests, please try again later"
DASH_ENABLE_HELMET=true
DASH_ENABLE_CSRF_PROTECTION=false
DASH_SESSION_SECRET=/run/secrets/dash_session
DASH_REDIS_DB=0
DASH_REDIS_KEY_PREFIX=ash-dash:
DASH_DATA_DIR=./ash-dash/data
DASH_CACHE_DIR=./ash-dash/cache
DASH_TEMP_DIR=./ash-dash/temp
DASH_DEFAULT_BOT_STATUS=unknown
DASH_DEFAULT_NLP_STATUS=unknown
DASH_DEFAULT_CRISIS_COUNT=0
DASH_ENABLE_FALLBACK_DATA=true
DASH_API_HOST=0.0.0.0
DASH_API_RETRY_ATTEMPTS=3
DASH_API_RETRY_DELAY=1000
DASH_API_CIRCUIT_BREAKER_THRESHOLD=5
DASH_ENABLE_MOCK_DATA=false
DASH_MOCK_CRISIS_EVENTS=false
DASH_ENABLE_HOT_RELOAD=false
DASH_WATCH_FILES=false
DASH_SHOW_HIGH_CRISIS_ALERTS=true
DASH_SHOW_MEDIUM_CRISIS_ALERTS=true
DASH_SHOW_LOW_CRISIS_ALERTS=true
DASH_ALERT_FLASH_DURATION=3000
DASH_HIGH_CRISIS_COLOR=#dc2626
DASH_MEDIUM_CRISIS_COLOR=#f59e0b
DASH_LOW_CRISIS_COLOR=#16a34a
DASH_SUCCESS_COLOR=#059669
DASH_WARNING_COLOR=#d97706
DASH_ERROR_COLOR=#dc2626
DASH_SHOW_LEARNING_STATS=true
DASH_SHOW_FALSE_POSITIVE_LEARNING=true
DASH_SHOW_FALSE_NEGATIVE_LEARNING=true
DASH_LEARNING_HISTORY_DAYS=7
DASH_LEARNING_CHART_TYPE=line
DASH_LEARNING_DATA_POINTS=168
DASH_SHOW_LEARNING_EFFECTIVENESS=true
DASH_ENABLE_BROWSER_NOTIFICATIONS=true
DASH_NOTIFICATION_PERMISSION_REQUEST=true
DASH_CRISIS_NOTIFICATION_SOUND=true
DASH_ENABLE_EMAIL_NOTIFICATIONS=false
DASH_SMTP_HOST=
DASH_SMTP_PORT=587
DASH_SMTP_USER=
DASH_SMTP_PASS=
DASH_NOTIFICATION_EMAIL=
DASH_ENABLE_AUTO_BACKUP=false
DASH_BACKUP_INTERVAL_HOURS=24
DASH_BACKUP_RETENTION_DAYS=7
DASH_BACKUP_DIR=./ash-dash/backups
DASH_ENABLE_MAINTENANCE_MODE=false
DASH_MAINTENANCE_MESSAGE="Dashboard is temporarily unavailable for maintenance"

# =============================================================================
# ASH-THRASH CONFIGURATION
# =============================================================================
THRASH_MAX_CONCURRENT_TESTS=5
THRASH_TEST_TIMEOUT_SECONDS=10
THRASH_RESULTS_RETENTION_DAYS=30
THRASH_ENABLE_DETAILED_LOGGING=true
THRASH_API_DEBUG=false
THRASH_API_HOST=0.0.0.0
THRASH_ENABLE_DATABASE=false
THRASH_DATABASE_URL=postgresql://ash:GLOBAL_POSTGRES_PASSWORD@ash-postgres:5432/ash
THRASH_DATABASE_POOL_SIZE=5
THRASH_ENABLE_SCHEDULED_TESTING=true
THRASH_COMPREHENSIVE_TEST_SCHEDULE=0 */6 * * *    # Every 6 hours
THRASH_QUICK_VALIDATION_SCHEDULE=0 * * * *        # Every hour
THRASH_ENABLE_DASHBOARD_INTEGRATION=true
THRASH_DASHBOARD_API_URL=http://localhost:8883
THRASH_DASHBOARD_UPDATE_INTERVAL=120              # Seconds
THRASH_ENABLE_ALERTS=false
THRASH_ALERT_WEBHOOK_URL=
THRASH_CRITICAL_FAILURE_THRESHOLD=80   # Alert if high priority detection < 80%
THRASH_FALSE_POSITIVE_THRESHOLD=15         # Alert if false positive rate > 15%
THRASH_DEVELOPMENT_MODE=false
THRASH_ENABLE_PROFILING=false